class VideoUploader{constructor(){this.form=document.querySelector(".frame-upload"),this.dropArea=this.form.querySelector(".frame-upload--file-drop"),this.fileInput=this.dropArea.querySelector("input"),this.preview=this.form.querySelector(".frame-upload--file-preview"),this.video=this.preview.querySelector("video"),this.fileInfo=this.form.querySelector(".frame-upload--file-info"),this.progress=this.form.querySelector(".frame-upload--progress"),this.initEventListener()}initEventListener(){this.fileInput.addEventListener("change",this.handleFileSelect.bind(this)),this.preview.querySelector(".change-file").addEventListener("click",this.clearFileSelect.bind(this))}handleFileSelect(e){const t=e.target.files[0];t&&t.type.startsWith("video/")&&(this.video.src=URL.createObjectURL(t),this.video.load(),this.dropArea.classList.add("hidden"),this.preview.classList.remove("hidden"),this.fileInfo.querySelector(".name").textContent=t.name,this.fileInfo.querySelector(".size").textContent=formatFileSize(t.size),this.fileInfo.querySelector(".type").textContent=t.type,this.video.addEventListener("loadedmetadata",(()=>{this.fileInfo.querySelector(".duration").textContent=formatTime(this.video.duration),this.fileInfo.querySelector(".resolution").textContent=`${this.video.videoWidth}px × ${this.video.videoHeight}px`})))}clearFileSelect(){this.fileInput.value="",this.video.src="",this.video.load(),this.dropArea.classList.remove("hidden"),this.preview.classList.add("hidden"),this.fileInfo.querySelectorAll("strong").forEach((e=>e.textContent="—"))}}document.addEventListener("DOMContentLoaded",(()=>new VideoUploader));