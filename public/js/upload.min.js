class VideoUploader{constructor(){this.container=document.querySelector(".upload-container"),this.dropArea=this.container.querySelector(".file-drop-area"),this.fileInput=this.container.querySelector('[name="video"]'),this.preview=this.container.querySelector(".video-preview"),this.previewPlayer=this.preview.querySelector(".preview-player"),this.initEventHandlers()}initEventHandlers(){["dragenter","dragover","dragleave","drop"].forEach((e=>{this.dropArea.addEventListener(e,(e=>e.preventDefault()&&e.stopPropagation()))})),["dragenter","dragover"].forEach((e=>{this.dropArea.addEventListener(e,(()=>{this.dropArea.classList.add("dragover")}))})),["dragleave","drop"].forEach((e=>{this.dropArea.addEventListener(e,(()=>{this.dropArea.classList.remove("dragover")}))})),this.dropArea.addEventListener("drop",(e=>{const r=e.dataTransfer.files[0];r&&r.type.startsWith("video/")&&this.handleFileSelect(r)})),this.fileInput.addEventListener("change",(e=>{const r=e.target.files[0];r&&this.handleFileSelect(r)}))}handleFileSelect(e){this.preview.querySelector(".file-name").textContent=e.name;const r=URL.createObjectURL(e);this.previewPlayer.src=r,this.previewPlayer.load(),this.dropArea.classList.add("hidden"),this.preview.classList.remove("hidden")}}document.addEventListener("DOMContentLoaded",(()=>new VideoUploader));