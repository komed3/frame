class VideoPlayer{bindings=[" ","k","K"];constructor(){this.container=document.getElementById("player"),this.video=this.container.querySelector("video"),this.controls=this.initControls(),this.initEventHandlers(),this.initKeyBindings()}initControls(){const t={};return this.container.querySelectorAll(".player-controls [action]").forEach((e=>{t[e.getAttribute("action")]=e})),t}initEventHandlers(){this.controls.play.addEventListener("click",this.play.bind(this)),this.controls.pause.addEventListener("click",this.pause.bind(this))}initKeyBindings(){document.addEventListener("keydown",(t=>{if("input"!==t.target.tagName&&this.bindings.includes(t.key))switch(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),t.key){case" ":case"k":case"K":this.togglePlay();break}}))}async play(){await this.video.play(),this.controls.play.disabled=!0,this.controls.pause.disabled=!1}pause(){this.video.pause(),this.controls.play.disabled=!1,this.controls.pause.disabled=!0}async togglePlay(){this.video.paused?await this.play():this.pause()}}document.addEventListener("DOMContentLoaded",(()=>new VideoPlayer));