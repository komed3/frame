const lang=document.documentElement.getAttribute("lang"),template=document.documentElement.getAttribute("template");function throttle(t,e){let o;return function(...r){o||(t.apply(this,r),o=!0,setTimeout((()=>o=!1),e))}}const formatDate=t=>new Intl.DateTimeFormat(lang,{year:"numeric",month:"short",day:"numeric"}).format(new Date(t)),formatTime=(t,e=!1)=>{if(isNaN(t))return"00:00";const o=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.floor(t%60);return(o>0||e?o.toString().padStart(2,"0")+":":"")+r.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")},formatUnit=(t,e=1,o="",r=1e3)=>{const n=["","k","M","G","T"];let a=0;for(;t>=r&&a<n.length-1;)t/=r,a++;return`${new Intl.NumberFormat(lang,{maximumFractionDigits:e}).format(t)} ${n[a]}${o}`},formatFileSize=(t,e=1)=>formatUnit(t,e,"B",1024),formatFrequency=(t,e=1)=>formatUnit(t,e,"Hz"),formatBitrate=(t,e=1)=>formatUnit(t,e,"b/s"),formatViews=t=>new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(t),formatDuration=t=>{const e={yr:31536e3,mo:2592e3,w:604800,d:86400,hrs:3600,min:60,sec:1};for(const[o,r]of Object.entries(e))if(t>=r)return`${Math.floor(t/r)} ${o}`;return"0 sec"};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("date").forEach((t=>{return t.textContent=(e=t.textContent,new Intl.DateTimeFormat(lang,{year:"numeric",month:"short",day:"numeric"}).format(new Date(e)));var e})),document.querySelectorAll("time").forEach((t=>t.textContent=formatTime(t.textContent))),document.querySelectorAll("filesize").forEach((t=>t.textContent=formatFileSize(t.textContent))),document.querySelectorAll("frequency").forEach((t=>t.textContent=formatFrequency(t.textContent))),document.querySelectorAll("bitrate").forEach((t=>t.textContent=formatBitrate(t.textContent))),document.querySelectorAll("views").forEach((t=>{return t.textContent=(e=t.textContent,new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(e));var e})),document.querySelectorAll("duration").forEach((t=>t.textContent=formatDuration(t.textContent))),document.querySelectorAll("[video]").forEach((t=>{const e=t.getAttribute("video"),{progress:o}=JSON.parse(localStorage.getItem(e)??'{"progress":0}');t.style.setProperty("--progress",o+"%")}))}));