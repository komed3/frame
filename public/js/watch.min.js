const rateVideo=async(t,e)=>{const a=await fetch("/api/rate/"+t,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:e})});if(!a.ok)return;const{rating:n}=await a.json();for(let e=1;e<=5;e++){const a=document.querySelector(`[v="${t}"][r="${e}"]`);a.className="icon ",e<=n?a.classList.add("icon-star-full"):a.classList.add("icon-star")}};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[v][r]").forEach((t=>t.addEventListener("click",(async()=>await rateVideo(t.getAttribute("v"),t.getAttribute("r"))))))}));