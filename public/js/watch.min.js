const setRating=(t,e)=>{document.querySelectorAll(`.rating[id="${t}"]`).forEach((t=>t.textContent=e.toFixed(1)))},likeVideo=async t=>{const e=await fetch("/api/like/"+t,{method:"post"});if(!e.ok)return;const{rating:i}=await e.json();isNaN(i)||setRating(t,i)},dislikeVideo=async t=>{const e=await fetch("/api/dislike/"+t,{method:"post"});if(!e.ok)return;const{rating:i}=await e.json();isNaN(i)||setRating(t,i)};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('[action="like"]').forEach((t=>t.addEventListener("click",(()=>likeVideo(t.getAttribute("id")))))),document.querySelectorAll('[action="dislike"]').forEach((t=>t.addEventListener("click",(()=>dislikeVideo(t.getAttribute("id"))))))}));