extends ./_layout

append scripts
  script( src= "/js/player.js", type= "text/javascript", defer )

append styles
  link( rel= "stylesheet", href= "/css/watch.min.css" )
  link( rel= "stylesheet", href= "/css/player.min.css" )

block content
  div.frame-watch

    //- Video player
    div.player( videoId= videoId )
      div.player-container
        video.video-player
        div.player-controls
          div.player-progress
            canvas.waveform
            div.seekbar
              div.seekbar-buffered
              div.seekbar-handle
                div.hover-card
                  div.preview
                  div.time 00:00
              div.seekbar-played

    //- Video description
    div.frame-watch--content

      //- Left column
      div.frame-watch--column

        //- Video description
        div.frame-box.frame-watch--meta
          h2.frame-watch--meta-title= video.title
          div.frame-watch--meta-info
            a( href= '/search?author=' + encodeURIComponent( video.author ) ).author= video.author
            span •
            a( href= '/themes/' + video.category ).category= t( 'category.' + video.category )
            span •
            a( href= '/search?pg=' + encodeURIComponent( video.pg ) ).pg= video.pg
            span •
            a( href= '/search?year=' + video.year ).year= video.year
          p.frame-watch--meta-description= video.description
          div.frame-watch--meta-tags
            each tag in video.tags
              a( href= '/search?tag=' + encodeURIComponent( tag ) )= tag

      //- Right column (aside)
      aside.frame-watch--column

        //- Video stats
        div.frame-box.frame-watch--stats
          i.icon.icon-radio
          strong.views!= t( 'views.watch.stats.views', { views: video.stats.views } )
          button( action= "thumbsUp", title= t( 'views.watch.stats.thumbsUp' ) ): i.icon.icon-thumbsUp
          button( action= "thumbsDown", title= t( 'views.watch.stats.thumbsDown' ) ): i.icon.icon-thumbsDown
          strong.rating= ( video.stats.rating || 0 ).toFixed( 1 )
